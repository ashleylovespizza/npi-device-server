http = require 'http'
nodeStatic = require 'node-static/lib/node-static'

class Website

  DEFAULT_PORT: 8080
  port: process.env.PORT || @DEFAULT_PORT

  start: () ->

    @website = http.createServer (request, response) =>
      file = new nodeStatic.Server '../../public', { cache: false }
      request.addListener 'end', () ->
        file.serve request, response

    @website.listen 8080, () ->
      console.log("Hello I am listening.")


exports.Website = Website